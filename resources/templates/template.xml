<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : template.xml
    Created on : August 28, 2009, 11:41 AM
    Author     : Peter.Withers@mpi.nl
    Description:
        Purpose of the document follows.
-->
<template>
    <RequiredFields>
        <comment>The fields listed here as required fields will be highlighted in the application until they have a value entered</comment>
        <RequiredField FieldPath=".METATRANSCRIPT.Session.Title" />
        <RequiredField FieldPath=".METATRANSCRIPT.Session.Name" />
        <RequiredField FieldPath=".METATRANSCRIPT.Session.Description" />
        <RequiredField FieldPath=".METATRANSCRIPT.Session.MDGroup.Content.Genre" />
        <RequiredField FieldPath=".METATRANSCRIPT.Session.MDGroup.Content.SubGenre" />
        <RequiredField FieldPath=".METATRANSCRIPT.Session.Resources.Anonyms.Access.Contact.Email" />
        <RequiredField FieldPath=".METATRANSCRIPT.Session.MDGroup.Project.Title" />
        <RequiredField FieldPath=".METATRANSCRIPT.Corpus.Title" />
        <RequiredField FieldPath=".METATRANSCRIPT.Session.Title" />
        <RequiredField FieldPath=".METATRANSCRIPT.Session.MDGroup.Project.Id" />
    </RequiredFields>
    <GenreSubgenres>
        <comment>The field pairs listed here will be linked as genre subgenre where the subgenre field gets its controlled vocabulary from the genre fields current selection</comment>
        <GenreSubgenre Subgenre=".METATRANSCRIPT.Session.MDGroup.Content.SubGenre" Genre=".METATRANSCRIPT.Session.MDGroup.Content.Genre" Description="description" />
    </GenreSubgenres>
    <FieldConstraints>
        <comment>The fields listed here will be required to match the regex constraint and will be highlighted in the application if they do not</comment>
        <FieldConstraint FieldPath=".METATRANSCRIPT.Session.MDGroup.Actors.Actor(15).BirthDate" Constraint="([0-9]+)((-[0-9]+)(-[0-9]+)?)?"/>
        <FieldConstraint FieldPath=".METATRANSCRIPT.Session.Date" Constraint="([0-9]+)((-[0-9]+)(-[0-9]+)?)?"/>
        <FieldConstraint FieldPath=".METATRANSCRIPT.Session.Resources.Anonyms.Access.Date" Constraint="([0-9]+)((-[0-9]+)(-[0-9]+)?)?"/>
        <FieldConstraint FieldPath=".METATRANSCRIPT.Session.MDGroup.Actors.Actor(3).BirthDate" Constraint="([0-9]+)((-[0-9]+)(-[0-9]+)?)?"/>
        <FieldConstraint FieldPath=".METATRANSCRIPT.Session.Resources.Anonyms.Access.Contact.Email" Constraint="([.]+)@([.]+)"/>
    </FieldConstraints>
    <FieldTriggers>
        <comment>The field triggers cause the target field to be set after the source field is edited, the value set in the target is determined by the controlled vocabulary on the source field</comment>
        <comment>The primary use fof these triggers are to set the corresponding language code when the language name field is changed is set</comment>
        <comment>The SourceFieldValue sets the source of the data to be inserted into the target field from the source fields controlled vocabulary. Possible values relate to the vocabulary xml format and include: "Content" "Value" "Code" "FollowUp".</comment>
        <FieldTrigger SourceFieldPath=".METATRANSCRIPT.Session.MDGroup.Content.Languages.Language(x).Name" TargetFieldPath=".METATRANSCRIPT.Session.MDGroup.Content.Languages.Language(x).Id" SourceFieldValue = "Content" />
        <FieldTrigger SourceFieldPath=".METATRANSCRIPT.Session.MDGroup.Actors.Actor(x).Languages.Language(x).Name" TargetFieldPath=".METATRANSCRIPT.Session.MDGroup.Actors.Actor(x).Languages.Language(x).Id" SourceFieldValue = "Content" />
        <FieldTrigger SourceFieldPath=".METATRANSCRIPT.Session.MDGroup.Actors.Actor(x).Language.Name" TargetFieldPath=".METATRANSCRIPT.Session.MDGroup.Actors.Actor(x).Language.Id" SourceFieldValue = "Content" />
        <FieldTrigger SourceFieldPath=".METATRANSCRIPT.Catalogue.SubjectLanguages.Language(x).Name" TargetFieldPath=".METATRANSCRIPT.Catalogue.SubjectLanguages.Language(x).Id" SourceFieldValue = "Content" />
        <FieldTrigger SourceFieldPath=".METATRANSCRIPT.Catalogue.DocumentLanguages.Language.Name" TargetFieldPath=".METATRANSCRIPT.Catalogue.DocumentLanguages.Language.Id" SourceFieldValue = "Content" />
        <comment>The LexiconResource field has no related id field and so is excluded from this list ".METATRANSCRIPT.Session.Resources.LexiconResource(x).MetaLanguages.Language"</comment>
    </FieldTriggers>
</template>